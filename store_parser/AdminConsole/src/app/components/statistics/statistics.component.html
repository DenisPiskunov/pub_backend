<app-top-menu></app-top-menu>
<div class="container-fluid">
    <app-left-menu>Loading left-menu...</app-left-menu>
    <div class="ui-md-offset-3">
        <p-blockUI [blocked]="blockedDocument"></p-blockUI>

        <div style="height: 1em" class="ui-g-12"></div>
        <div class="ui-g-12">
            <div class="ui-g-9">
                <div class="panel panel-default">
                    <div class="panel-heading">
                        <h5>Интервал выборки для получения статистики по удаленным приложениям</h5>
                    </div>
                    <div class="panel-body">
                        <div class="ui-g-6 align-center">
                            <h6>Начало интервала выборки</h6>
                            <p-calendar [(ngModel)]="fromDate"></p-calendar>
                        </div>
                        <div class="ui-g-6 align-center">
                            <h6>Окончание интервала выборки</h6>
                            <p-calendar [(ngModel)]="toDate"></p-calendar>
                        </div>
                        <div class="ui-grid-col-12" style="height: 0.5em"></div>
                        <div class="ui-grid-col-12 align-center">
                            <button pButton type="button" label="Построить выборку" icon="fa-check"
                                    iconPos="right" (click)="onGetStatistics()"></button>
                        </div>
                    </div>
                </div>
            </div>

            <div [hidden]="hideChart">
                <div class="ui-grid-col-12" style="height: 0.5em"></div>
                <div class="ui-grid-col-9 align-center">
                    <h4>Результат выборки</h4>
                </div>
                <div [hidden]="hideChart" class="ui-grid-col-11">
                    <p-chart type="line" [data]="chartData"></p-chart>
                </div>
                <div class="ui-grid-col-12" style="height: 2em"></div>
                <div class="ui-grid-col-11">
                    <p-dataTable [value]="statListLegend" selectionMode="single" [paginator]="true" rows="10"
                                 [responsive]="true">
                        <p-column field="deletedDate" header="Дата удаления" [sortable]="true"></p-column>
                        <p-column field="platform" header="Платформа" [sortable]="true"></p-column>
                        <p-column field="count" header="Количество" [sortable]="true"></p-column>
                    </p-dataTable>
                </div>
            </div>
        </div>
    </div>


    <div [hidden]="hideProgress" class="ui-g-12 text-center">
        <p-progressSpinner></p-progressSpinner>
    </div>
</div>
